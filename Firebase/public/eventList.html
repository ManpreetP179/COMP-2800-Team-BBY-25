<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="styles/eventsListPage.css" type="text/css">
        <link rel="apple-touch-icon" sizes="152x152" href="favicon_package_v0.16 (1)/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon_package_v0.16 (1)/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon_package_v0.16 (1)/favicon-16x16.png">
        <link rel="manifest" href="favicon_package_v0.16 (1)/site.webmanifest">
        <link rel="mask-icon" href="favicon_package_v0.16 (1)/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        <style>

        </style>
    </head>
    <body>
        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
              <div class="navbar-header">
                <a class="navbar-brand" href="#"><img src="images/logo.png" height="30px" width="35px"></a>
                <a class="navbar-brand" href="#">Together at Home</a>
              </div>
              <ul class="nav navbar-nav">
                <li class="active"><a href="mainPage.html">Home</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="eventsPage.html">Create Events</a></li>
                <li><a href="eventList.html">Events</a></li>
                <li><a href="#">Schedule</a></li>
                <li><a href="#">Social Media</a></li>
                <li><a href="aboutUs.html">About us</a></li>
              </ul>
            </div>
        </nav>
        <h1>Events</h1>
        <div class="container">
            <div id="event"></div>    
        </div>
        <script>
            getActivities();
            
            var arr = localStorage.getItem("arr");
            
            console.log("this is arr: " + arr);
            console.log(arr.length);
            
            function getActivities() {
              firebase.auth().onAuthStateChanged(function(user) {
                db.collection("events").doc(user.uid)
                .onSnapshot(function(snap) {
                  x = snap.data().arr;
                  console.log(x);
                  localStorage.setItem("arr", x);
                });
              });
            }
        </script>

        <!-- update the version number as needed -->
        <script defer src="/__/firebase/7.14.2/firebase-app.js"></script>
        <!-- include only the Firebase features as you need -->
        <script defer src="/__/firebase/7.14.2/firebase-auth.js"></script>
        <script defer src="/__/firebase/7.14.2/firebase-database.js"></script>
        <script defer src="/__/firebase/7.14.2/firebase-messaging.js"></script>
        <script defer src="/__/firebase/7.14.2/firebase-storage.js"></script>
        <script defer src="/__/firebase/7.14.2/firebase-firestore.js"></script>
        <!-- initialize the SDK after all desired features are loaded -->
        <script defer src="/__/firebase/init.js"></script>

        <!-- Initialize Firebase -->
        <script src="/__/firebase/init.js">
            var firebaseConfig = {
            apiKey: "api-key",
            authDomain: "project-id.firebaseapp.com",
            databaseURL: "https://project-id.firebaseio.com",
            projectId: "project-id",
            storageBucket: "project-id.appspot.com",
            messagingSenderId: "sender-id",
            appId: "app-id",
            measurementId: "G-measurement-id",
          };
        </script>
        <script src="app.js"></script>
    </body>
</html>